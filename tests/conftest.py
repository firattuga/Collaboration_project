import numpy as np
import pytest
import matplotlib
matplotlib.use("Agg")

import warnings
warnings.filterwarnings(
    "ignore",
    message="Animation was deleted without rendering anything"
)

@pytest.fixture
def dummy_tracks():
    return {
        0: {'event_id': 0,
            'path': [
                (0, 0.215519, -0.081736, 1.0, 11.4579),
                (1, 0.239178, -0.077339, 1.1, 12.6037),
                (2, 0.262232, -0.070713, 1.2, 13.7495),
                (3, 0.284463, -0.061798, 1.3, 14.8953),
                (4, 0.305779, -0.050655, 1.4, 16.041)],
            'fit': {
                'xc': 0.1838062775013477,
                'yc': 0.15711807805031508,
                'R': 0.24093722524933509,
                'w_ns': 0.087049404852278,
                'm_over_q': 24.08017240251535,
                'q_sign': 1, 'err': 1.712825460755573e-05}},
        1: {'event_id': 0,
            'path': [
                (0, 0.000875, -0.000222, 1.0, 11.1274),
                (1, 0.000936, -0.00024, 1.1, 12.2402),
                (2, 0.001018, -0.000274, 1.2, 13.3529),
                (3, 0.001148, -0.000264, 1.3, 14.4657),
                (4, 0.001219, -0.000273, 1.4, 15.5784)],
            'fit': {
                'xc': 0.0011001116007650265,
                'yc': 0.00014367664932980273,
                'R': 0.0004233151456174615,
                'w_ns': 0.16674647877614945,
                'm_over_q': 12.572425970262833,
                'q_sign': 1,
                'err': 8.287561661960585e-06}}
    }


@pytest.fixture
def dummy_trajectories():
    return {
        0: [(0.028074, 0.173689, 1.0), (0.028368, 0.191291, 1.1), (0.028292, 0.208963, 1.2), (0.027694, 0.226587, 1.3),
             (0.026613, 0.244186, 1.4)],
         1: [(0.079099, -0.030089, 1.0), (0.085706, -0.035499, 1.1), (0.092046, -0.041311, 1.2),
             (0.098108, -0.047451, 1.3), (0.103687, -0.053927, 1.4)]
    }


@pytest.fixture
def dummy_hits_3d():
    return {
        0: [[0.1, 0.1, 1.0], [0.2, 0.2, 1.2]],
        1: [(-0.1, 0.1, 1.0)],
    }
